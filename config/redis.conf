# ----------------- 基础设置 -----------------
bind 0.0.0.0 # 允许所有IP访问（默认127.0.0.1）
port 6379 # Redis端口
protected-mode yes # 保护模式：开启后仅允许本地访问（建议关闭或绑定指定IP）

# ----------------- 安全认证 -----------------
requirepass your_redis_password_here # 设置密码（建议开启）

# ----------------- 性能相关 -----------------
timeout 300 # 客户端闲置连接超时时间（秒）
tcp-keepalive 60 # TCP连接保活（建议开启）

# ----------------- 持久化 -----------------
save 900 1 # 900秒内如果至少1个key发生变化，触发RDB快照
save 300 10
save 60 10000
dbfilename dump.rdb # RDB文件名
dir /data # RDB文件保存目录

# ----------------- 日志 -----------------
logfile "/var/log/redis/redis.log"
loglevel notice # 日志等级：debug | verbose | notice | warning

# ----------------- 内存限制 -----------------
maxmemory 256mb # 限制最大内存（适当开启）
maxmemory-policy allkeys-lru # 淘汰策略：常用的有 noeviction、allkeys-lru、volatile-lru

# ----------------- 关闭保护模式的情况下需小心 -----------------
daemonize no # 是否以守护进程运行（Docker 中建议设为 no）

# ----------------- 主从复制（可选） -----------------
# replicaof 192.168.1.100 6379   # 作为从节点连接主节点
# masterauth your_master_password # 主节点密码（如果有）
